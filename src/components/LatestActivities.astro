---
import { useTranslations } from "../libs/i18n";
const { t, l } = useTranslations(Astro.url);

// 実際のデータはContent Collectionsから取得するように変更することを想定
const activities = [
    {
        title: {
            ja: "VRChat内の新ワールド制作",
            en: "Creating New Worlds in VRChat",
            zh: "在VRChat中创建新世界",
        },
        date: "2023-11-15",
        image: "/assets/activities/vrchat-world.jpg",
        slug: "vrchat-world-creation",
    },
    {
        title: {
            ja: "バーチャル学園祭出展",
            en: "Virtual School Festival Exhibition",
            zh: "虚拟校园节展览",
        },
        date: "2023-10-20",
        image: "/assets/activities/virtual-festival.jpg",
        slug: "virtual-school-festival",
    },
    {
        title: {
            ja: "初心者向けVR講座",
            en: "VR Workshop for Beginners",
            zh: "面向初学者的VR讲座",
        },
        date: "2023-09-05",
        image: "/assets/activities/vr-workshop.jpg",
        slug: "vr-workshop-beginners",
    },
];
---

<section class="py-16">
    <div class="container mx-auto px-4">
        <div class="mb-12 text-center">
            <h2 class="mb-4 text-3xl font-bold text-gray-800 md:text-4xl">
                {
                    t({
                        ja: "最新の活動",
                        en: "Latest Activities",
                        zh: "最新活动",
                    })
                }
            </h2>
            <p class="mx-auto max-w-3xl text-lg text-gray-600">
                {
                    t({
                        ja: "OUS Metaverseでの最近の取り組みやイベントをご紹介します。",
                        en: "Check out our recent initiatives and events at OUS Metaverse.",
                        zh: "了解我们在OUS Metaverse的最新倡议和活动。",
                    })
                }
            </p>
        </div>

        <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
            {
                activities.map((activity) => (
                    <a
                        href={l(`/activities/${activity.slug}`)}
                        class="group overflow-hidden rounded-lg bg-white shadow-md transition hover:shadow-lg"
                    >
                        <div class="aspect-w-16 aspect-h-9 overflow-hidden">
                            <img
                                src={activity.image}
                                alt={t(activity.title)}
                                class="h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"
                            />
                        </div>
                        <div class="p-6">
                            <p class="mb-2 text-sm text-gray-500">
                                {new Date(activity.date).toLocaleDateString(
                                    Astro.currentLocale || "ja-JP",
                                    {
                                        year: "numeric",
                                        month: "long",
                                        day: "numeric",
                                    },
                                )}
                            </p>
                            <h3 class="mb-3 text-xl font-bold text-gray-800 group-hover:text-[#6CB16E]">
                                {t(activity.title)}
                            </h3>
                        </div>
                    </a>
                ))
            }
        </div>

        <div class="mt-12 text-center">
            <a
                href={l("/activities")}
                class="inline-flex items-center rounded-md border border-[#6CB16E] px-6 py-3 text-[#6CB16E] transition hover:bg-gray-50"
            >
                {
                    t({
                        ja: "すべての活動を見る",
                        en: "View All Activities",
                        zh: "查看所有活动",
                    })
                }
            </a>
        </div>
    </div>
</section>
